<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<!-- Hibernate 会话工厂对象 -->
	<bean id="sessionFactory" class="utils.HibernateHelper"
		factory-method="getSessionFactory" />

	<!-- admin的层级结构 -->
	<!-- 用户管理的Dao,Service,Action -->
	<bean id="adminDao" class="dao.AdminDaoImpl">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>

	<!-- adminService 用户操作的业务对象 -->
	<bean id="adminService"
		class="service.AdminServiceImpl">
		<property name="dao" ref="adminDao" />
	</bean>

	<!-- adminAction 用户操作的控制器对象 -->
	<bean id="adminModel" class="entity.Admin"
		scope="prototype" />
	<bean id="adminAction" class="action.AdminAction"
		scope="prototype">
		<property name="service" ref="adminService" />
		<property name="model" ref="adminModel" />
	</bean>

	
	<!-- Librarian的层级结构 -->
	<!-- 用户管理的Dao,Service,Action -->
	<bean id="librarianDao" class="dao.LibrarianDaoImpl">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>

	<!-- LibrarianService 用户操作的业务对象 -->
	<bean id="librarianService"
		class="service.LibrarianServiceImpl">
		<property name="dao" ref="librarianDao" />
	</bean>

	<!-- adminAction 用户操作的控制器对象 -->
	<bean id="librarianModel" class="entity.Librarian"
		scope="prototype" />
	<bean id="LibrarianAction" class="action.LibrarianAction"
		scope="prototype">
		<property name="service" ref="librarianService" />
		<property name="model" ref="librarianModel" />
	</bean>
	
	
	<!-- Reader的层级结构 -->
	<!-- 用户管理的Dao,Service,Action -->
	<bean id="readerDao" class="dao.ReaderDaoImpl">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>

	<!-- adminService 用户操作的业务对象 -->
	<bean id="readerService"
		class="service.ReaderServiceImpl">
		<property name="dao" ref="readerDao" />
	</bean>

	<!-- adminAction 用户操作的控制器对象 -->
	<bean id="readerModel" class="entity.Reader"
		scope="prototype" />
	<bean id="ReaderAction" class="action.ReaderAction"
		scope="prototype">
		<property name="service" ref="readerService" />
		<property name="model" ref="readerModel" />
	</bean>
	
	
	<!-- Book的层级结构 -->
	<!--Book的Dao,Service,Action -->
	<bean id="bookDao" class="dao.BookDaoImpl">
		<property name="sessionFactory" ref="sessionFactory" />
	</bean>
	<!-- BookService 用户操作的业务对象 -->
	<bean id="bookService"
		class="service.BookServiceImpl">
		<property name="dao" ref="bookDao" />
	</bean>

	<!-- BookAction 用户操作的控制器对象 -->
	<bean id="bookModel" class="entity.Book"
		scope="prototype" />
		
	<bean id="BookAction" class="action.BookAction"
		scope="prototype">
		<property name="service" ref="bookService" />
		<property name="model" ref="bookModel" />
	</bean>
		
</beans>